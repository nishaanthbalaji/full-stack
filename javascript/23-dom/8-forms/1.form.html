<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="form" />

    <title>Document</title>
  </head>
  <style>
    .success {
      color: green;
    }
    .error {
      color: red;
    }
  </style>
  <body>
    <h2>forms</h2>
    <form action="#" id="form">
      <p>
        <input
          type="text"
          name="fullName"
          id="username"
          placeholder="enter the username"
        />
        <small></small>
      </p>
      <p>
        <input
          type="email"
          name="email"
          id="email"
          placeholder="enter the email"
        />
        <small></small>
      </p>
      <p>
        <textarea name="message" id="message" cols="21" rows="5"></textarea>
        <small></small>
      </p>
      <p>
        <button id="submitbtn">submit</button>
        <button id="clrbtn">clear</button>
      </p>
    </form>
    <script>
      // forms

      // two types
      // selecting the html forms
      // type 1
      // document.forms=>return all the forms in the document as array
      // console.log(document.forms[0][0])
      // here no need to create dom as document.forms is already a dom if no dom we would have created document.querryselctor
      console.log(document.forms);
      console.log(document.forms[0][0]);
      console.log(document.forms[0][1]);
      console.log(document.forms[0][2]);
      console.log(document.forms[0][3]);

      // access input element values
      // use value
      let username = document.forms[0][0];
      // username.value = "john";
      console.log(username.value);
      let email = document.forms[0][1];
      let message = document.forms[0][2];
      let submitbtn = document.forms[0][3];

      let clearbtm = document.forms[0][4];

      //type 2
      let form = document.querySelector("#form");
      console.log(form);
      console.log(form.elements);
      console.log(form.elements[0]);
      console.log(form.elements[1]);
      console.log(form.elements[2]);

      console.log(form.elements[3]);

      // if i press submit everything i enter will resfresh as destination of the form not given
      // to avoid that i use prevent default
      form.addEventListener("submit", (ev) => {
        console.log(ev);

        ev.preventDefault(); // the submit is the event  which is going to happen here. so name we keep for parameter is the name for event here submit event name is ev . to access the event i can use ev

        // prevent default is not a property to event it is a method likr set( ) , add() , setattribute

        for (const ele of document.forms[0]) {
          // console.log(ele.value);
          if (ele.value) {
            let nextele = ele.nextElementSibling;
            if (nextele.tagName === "SMALL") {
              nextele.className = "success";
              nextele.textContent = "Success";
            }
          } else {
            let nextele = ele.nextElementSibling;
            if (nextele?.tagName === "SMALL") {
              // optional chaining if there is tagname small in next element then error class will come usually if some thing not there r no variale created  in that name we give in javascript it will show as error in that case if before ? given means even though nothing is there like that  it wont show error if something like that it will work or elese it will skip.
              nextele.className = "error";
              nextele.textContent = "Error";
            }
          }
        }
      });
    </script>
  </body>
</html>
